<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> מחשבון ריבית דריבית</title>
    
    <!-- תיקיית אייקונים -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="ribit.css">
    <script src="ribit.js" defer></script>
    <style>
  *{box-sizing:border-box;
          margin:0;padding:0;}
  body {
   font-family: Arial, sans-serif;
   background-color: #f8f9fa;
    display: flex;
            flex-direction: column;
            align-items: center;
            height: auto;
            margin: 0;
            overflow-x:hidden;
            max-width:95%;
        }
        .form-container {
            background: #ffffff;
            padding: 10px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            width: clamp(300px,90vw,400px);
            margin-top: 50px;
            max-width:100%;
            overflow-x:hidden;
            margin-right: 20px;
        }
        h3{
            text-align: center;
            color: #007bff;
            margin-bottom:20px;
        }
        .form-container label {
            font-weight: bold;
            display: block;
            
             
            min-width: 150px;
            box-sizing: border-box;
            padding: 0%;
            font-size: 12px;
        }
        input, select {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 12px;
            text-align: right;
            margin-left: 10px;
        }
        select {
            cursor: pointer;
        }
        .radio-group {
            display: flex;
            flex-direction: column;
            margin-bottom: 15px;
        }
        .radio-group input {
            margin-left: 5px;
        }
        button {
            width: clamp(300px,90vw,400px);
            padding: 10px;
            margin-top: 15px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
            transition: 0.3s;
            margin-right: 20px;
        }
        button:hover {
            background-color: #0056b3;
        }
 .inputNuber{
   max-width: 120px;
   min-width: 80px;
   margin: 0 5%;
   box-sizing: border-box;
    margin-bottom: 10px;
    text-align: center;
    padding:0 ;
    height: 30px;
    margin-left:20px;
    margin-right:15px;
        }
        .form-group{
           display: flex;
           justify-content: space-between;
           width: 90%;
            
        }
        .radiox{
            transform: scale(0.7);
            width: 20px;
            max-width: 20px;
        }
        .closewindow{color:black;position: relative;right:20px;top:5px;}
        .numtd {
    color: blue;
    border: 1px solid green;
    border-collapse: collapse;
    font-size: 14px;
    text-align: center;
    width: 30%;
    max-width: 130px;
  }

     
@media only screen and (min-width: 600px) {
  #tbltoz, #tbltoz tr, #tbltoz td {
    font-size: 12px !important;
  }
  
  .txttd {
    background-color: blue;
    color: white;
    border: 1px solid green;
    border-collapse: collapse;
    font-size: 16px;
    font-weight: bolder;
    text-align: right;
    padding-right: 2vw;
  }
  
  .numtd {
    background-color: white;
    color: blue;
    border: 1px solid green;
    border-collapse: collapse;
    font-size: 16px;
    font-weight: bolder;
    text-align: center;
  }
  #tozaot {
   
    display: flex;
    justify-content: center;
  }
}

@media only screen and (max-width:600px) {
  .kottoz,.lbltoz{font-size: 12px;}
     .txttd,.numtd{font-size: 10px;
   }

.ribitother{
  display: flex;
  flex-direction: column;
  width:55%;
  align-items:end;
  line-height: 20px;
  vertical-align: middle;
  font-size: 16px;
  margin-left: 10px;
}
#tbltoz, #tbltoz th, #tbltoz td {
  border-collapse: collapse;
}
#tbltoz{width:clamp(300px,90vw,100%);
box-sizing: border-box;margin: 0%;padding: 0%;
       max-width:100%;}
.alltoz {
  display:none;
  flex-direction: column;
  align-items: center;
  box-sizing: border-box;margin: 0%;padding: 0%;
   max-width:100%;
   font-size: 14px;
  
  
}
.selecttoz{
  font-size: 12px;
  text-align: center;
  max-width: 60px;
  height: 25px;
  box-sizing: border-box;
  padding: 0%;
  margin: 0%;
}

.divtozz {
  display: flex;
  flex-direction: row;
  justify-content:space-between;
  margin-top: 2vh;
  width:clamp(100px, 95vw, 400px);
  margin: 10px 2.5vw;
}
.kottoz,.lbltoz{
  font-size: 14px;
  height: 25px;
  box-sizing: border-box;
  padding: 0%;
  margin: 0%;
}
 
  
  #tozaot {
    
    display: flex;
    justify-content: center;
    max-width: 400px;
    box-sizing: border-box;
    margin: 0%;
    padding: 0%;
    margin-top: 2vh;
  }
  
  #tozaot, #tozaot tr{
    width: 100%;
    max-width: 400px;
    box-sizing: border-box;
    margin: 0%;
    padding: 0%;

  }
  
  .txttd {
    background-color: blue;
    color: white;
    border: 1px solid green;
    border-collapse: collapse;
    font-size: 10px;
    font-weight: bolder;
    text-align: right;
    width: 60%;
    padding-right: 10px;
  }
  
}



   </style>

</head>
<body dir="rtl">
    
    <form class="form-container">
        <div class='closewindow' onclick='hideIframe()'>X</div>
        <h3>מחשבון ריבית דריבית </h3> 
        <label>בחר סוג השקעה:</label>
        <div class="radio-group">
              
            <label><input id="rdbutton1" class="radiox" type="radio" name="investmentType" value="oneTime"
                onchange="rdchange()"> חד פעמי</label>
            
            
            <label><input id="rdbutton2" class="radiox" type="radio" name="investmentType" value="monthly"
                onchange="rdchange()">בתשלומים</label> 
           
            <label><input id="rdbutton3" class="radiox" type="radio" name="investmentType" value="both" checked
                onchange="rdchange()">חד פעמי + תשלומים</label>
            
        </div>
        <div id="schomdiv1" class="form-group">
            <label>חד פעמי:</label>
            <input id="hadpeami" class="inputNuber" type="text"   min="0">
        </div>
        <div id="schomdiv2" class="form-group">
            <label>בתשלומים חודשיים:</label>
            <input id="hodshi" class="inputNuber" type="text"  min="0">
        </div>
        <div class="form-group">
            <label>בחר תקופה (שנים):</label>
            <select onchange="onch()" class="inputNuber" id="txttkofa1" required>
            </select>
        </div>
        <div class="form-group">
            <label>בחר שיעור דמי ניהול:</label>
            <select onchange="onch()" class="inputNuber" id="txttkofa2" required>
            </select>
        </div>
        
        
    </form>
    <button id="hashevdo" onclick="hashev(0.04)" >חשב</button>
    <div class="alltoz" id="alltoz">
        <div class="divtozz">
            <div class="kottoz" id="kottoz"> לפי ריבית 4% שנתי:</div>
            <div class="ribitother">
                <label class="lbltoz">בחר ריבית אחרת</label>
                <select class="selecttoz" id="selecttoz" onchange="othribit()">
            </div>
            </select>
        </div>    
    </div>
    <div class="tozaot" id="tozaot" style="display: block;"></div>
    <script>
        function hideIframe(x){
        window.parent.hideframe();
    }
    </script>
    <script>
const inputs = document.querySelectorAll(".inputNuber");

inputs.forEach(inp => {
    inp.addEventListener("input", (e) => {
        // מיקום הסמן לפני השינוי
        const cursorPosition = e.target.selectionStart;
        
        // הערך הקודם (עם פסיקים)
        const oldValue = e.target.value;
        
        // הערך הנוכחי בלי פסיקים
        let cleanValue = oldValue.replace(/,/g, "");
        
        // אם הערך ריק
        if (cleanValue === "") {
            e.target.value = "";
            return;
        }
        
        // הערך המעוצב החדש
        const formattedValue = Number(cleanValue).toLocaleString();
        
        // עדכון הערך בשדה הקלט
        e.target.value = formattedValue;
        
        // חישוב פשוט וחזק יותר למיקום הסמן:
        // נשמור על היחס בין מיקום הסמן והאורך הכולל
        const ratio = cursorPosition / oldValue.length;
        const newCursorPosition = Math.round(formattedValue.length * ratio);
        
        // הגדרת מיקום הסמן החדש
        e.target.setSelectionRange(newCursorPosition, newCursorPosition);
    });
});

    </script>
</body>
</html>


